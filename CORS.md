## 백엔드와의 통신에서 CORS 오류

최근에 팀 프로젝트를 같이하며 서버에게 GET으로 정보를 요청했는데..  
보다시피 잘 안돼서 이 글이 생긴 것일 것이다. 예. 바로 가보자.  

다른 블로그들을 볼 때도 그렇고 에러메시지가 자바스크립트 치고는 아주아주  
친절하지만 주니어 개발자들은 이 에러를 마주했을 때 모두 당황한다고한다.  

CORS는 Cross-Origin Resource Sharing의 약자로서, 브라우저의  
정책을 위반하였을 때에 나오는 에러 메시지이다. 보안 상의 문제로 이런 정책을  
브라우저 짜식들이 둔 것인데, 출처가 다른 놈들 간에 리소스를 전달하면 정책에  
위반이 된다.  

예를 들어, 요청자의 포트는 3000번인데, 서버 클라이언트의 포트가 8080번이거나  
하면 이 오류가 발생한다. 자 그럼 어떻게 해결할 수 있을까?  

## 프록시 사용
애저 자격증을 딸 때 공부한 것인데, 프록시 즉, 우리가 흔히 알고있는 VPN 서버의  
구조를 간단히 말하면 인터넷망을 공개되어있는 곳이 아닌 VPN 회사의 망으로 비밀스  럽게 꽂아준다. 그래서 프록시로 우회를 하면 빠른 시간 내에 프록시 서버를 통해서  
접근을 할 수 있게 해준다.

요청해야 하는 URL 앞에 프록시 서버 URL을 붙여서 요청하면 해결된다.

```jsx
axios({
  method: "GET",
  url: `https://cors-anywhere.herokuapp.com/https:example.com/example
```

사실 이게 제일 편하다. 나는 백엔드 쪽에서 그냥 a태그만 눌러도 보낼 수 있게  
설정해놓아서 그렇게 쓰고 있는데, 혼자 한다면 이게 제일 편하다.  

다음은 두 번째 해결 방법이다. 에러 메시지를 번역하면 Access-Control-Allow-Origin  
없이는 정책 위반이라 하니 이 것을 세팅해보는 방법이다.

## Access-Control-Allow-Origin 세팅

```jsx
const example = require('example');
const app = example();

app.get('/api', (req, res) => {
    res.header("Access-Control-Allow-Origin", "도메인");
    res.send(data);
});
```

동아리 선배들이 이 방법과 비슷하게 사용하는 것을 본 적이 있다. 이것도 좋다.  
상황에 따라서 잘 맞게 사용하면 도움이 될 것 같다. 